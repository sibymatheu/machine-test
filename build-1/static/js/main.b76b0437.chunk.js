(this["webpackJsonpsimelabs-machine-test"]=this["webpackJsonpsimelabs-machine-test"]||[]).push([[0],{173:function(e,t,a){},25:function(e,t,a){e.exports={filter:"filter_filter__3JVBF",input_wrapper:"filter_input_wrapper__15gsZ",label:"filter_label__1UtrG",input:"filter_input__1aB1y"}},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(58),i=a.n(c),s=(a(173),a(76)),l=a(60),o=a(17),u=a(51),j=a.n(u),d=a(145),p=function(e,t){var a="";if(t&&Object.keys(t).length>0)for(var n in t)a+="&".concat(n,"=").concat(t[n]);return"".concat(e).concat(a||"")},h=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p("https://u50g7n0cbj.execute-api.us-east-1.amazonaws.com/v2/measurements?limit=100&page=1&offset=0&sort=asc&country_id=IN&city=Kochi&order_by=datetime&radius=10&date_from=2000-01-01T00%3A00%3A00%2B00%3A00&date_to=2021-06-27T04%3A45%3A00%2B00%3A00",t));case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:r=e.sent,a(r),e.next=11;break;case 10:a(null);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var b=a(314),m=a(315),f=a(319),O=a(161),v=a(162),_=a(67),x=a(64),g=a(164),y=a(6),w="January February March April May June July August September October November December".split(" "),N=function(e,t){var a=new Date(e);if(isNaN(a.getTime()))return"-";var n=a.getDate();return 1===n||t?"".concat(w[a.getMonth()]," ").concat(n):n.toString()},D=function(e){var t=e.data,a=e.name,n=function(e){if(!e||!e.length)return[];var t={};e.map((function(e){var a=e.date.local;t.hasOwnProperty(a)||(t[a]={}),t[a][e.parameter]=e.value}));var a=[],n=0;for(var r in t)a.push(Object(l.a)({name:N(r,0===n)},t[r])),n++;return a}(t);return Object(y.jsx)("div",{style:{width:"100%",height:400},children:Object(y.jsx)(b.a,{width:"100%",height:"100%",children:Object(y.jsxs)(m.a,{width:500,height:300,data:n,margin:{top:20,right:0,left:0,bottom:5},children:[Object(y.jsx)(f.a,{strokeDasharray:"3 3"}),Object(y.jsx)(O.a,{dataKey:"name"}),Object(y.jsx)(v.a,{}),Object(y.jsx)(_.a,{}),Object(y.jsx)(x.a,{}),Object(y.jsx)(g.a,{dataKey:a,minPointSize:8,stackId:a,fill:"#010f74"})]})})})},A=a(84),C=a.n(A),F=a(85),S=a.n(F),T=function(){return Object(y.jsxs)("div",{className:S.a.header,children:[Object(y.jsx)("div",{className:S.a.title,children:"Pollution Data"}),Object(y.jsx)("div",{className:S.a.sub_heading,children:"City : India, Kochi"})]})},k=a(25),J=a.n(k),B=function(e){var t=e.defaultValues,a=e.onChange;return Object(y.jsxs)("div",{className:J.a.filter,children:[Object(y.jsxs)("div",{className:J.a.input_wrapper,children:[Object(y.jsx)("div",{className:J.a.label,children:"Date From"}),Object(y.jsx)("div",{className:J.a.input,children:Object(y.jsx)("input",{type:"date",defaultValue:t.date_from,name:"date_from",placeholder:"from",onChange:a})})]}),Object(y.jsxs)("div",{className:J.a.input_wrapper,children:[Object(y.jsx)("div",{className:J.a.label,children:"Date To"}),Object(y.jsx)("div",{className:J.a.input,children:Object(y.jsx)("input",{type:"date",name:"date_to",defaultValue:t.date_to,placeholder:"to",onChange:a})})]}),Object(y.jsxs)("div",{className:J.a.input_wrapper,children:[Object(y.jsx)("div",{className:J.a.label,children:"Parameter"}),Object(y.jsx)("div",{className:J.a.input,children:Object(y.jsxs)("select",{name:"parameter",onChange:a,children:[Object(y.jsx)("option",{value:"co",children:"CO"}),Object(y.jsx)("option",{value:"so2",children:"SO2"}),Object(y.jsx)("option",{value:"no2",children:"no2"}),Object(y.jsx)("option",{value:"o3",children:"o3"}),Object(y.jsx)("option",{value:"pm25",children:"pm25"}),Object(y.jsx)("option",{value:"pm25",children:"pm25"})]})})]})]})},P=function(e){var t=new Date(e),a=""+(t.getMonth()+1),n=""+t.getDate(),r=t.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),[r,a,n].join("-")};var I=function(){var e=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1];return[{data:s,isLoading:a},function(e){r(!0),h(e||{},(function(e){r(!1),l(e||{})}))}]}(),t=Object(o.a)(e,2),a=t[0],r=a.data,c=a.isLoading,i=t[1],u=new Date;u.setDate(u.getDate()-30);var j=Object(n.useState)({parameter:"co",date_from:P(u),date_to:P(new Date)}),d=Object(o.a)(j,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){i(p)}),[p]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(T,{}),Object(y.jsx)(B,{onChange:function(e){var t=e.currentTarget.name;b(Object(l.a)(Object(l.a)({},p),{},Object(s.a)({},t,e.currentTarget.value)))},defaultValues:p}),r&&r.results&&Object(y.jsxs)("div",{className:C.a.chart_wrapper,children:[c&&Object(y.jsx)("div",{className:C.a.overlay}),Object(y.jsx)(D,{data:r.results,name:p.parameter})]}),(!r||!r.results)&&c&&Object(y.jsx)("div",{className:C.a.spinner,children:"Fetching Details..."})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,321)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(I,{})}),document.getElementById("root")),K()},84:function(e,t,a){e.exports={chart_wrapper:"App_chart_wrapper__2YrfQ",overlay:"App_overlay__2z0n5",spinner:"App_spinner__1i0FU"}},85:function(e,t,a){e.exports={header:"header_header__2KJpt",title:"header_title__1q2T1",sub_heading:"header_sub_heading__LBJnt"}}},[[312,1,2]]]);
//# sourceMappingURL=main.b76b0437.chunk.js.map